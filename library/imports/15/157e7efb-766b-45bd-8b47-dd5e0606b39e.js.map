{"version":3,"sources":["assets\\Script\\game\\factory\\factoryNode.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,8CAAyC;AACzC,mEAA8D;AAC9D,6CAAwC;AACxC,+CAA0C;AAEpC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAyC,+BAAY;IADrD;QAAA,qEA8BC;QA1BG,WAAK,GAAkB,IAAI,CAAC;QAE5B,aAAO,GAAU,GAAG,CAAC;;IAwBzB,CAAC;IArBG,2BAAK,GAAL;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;IAC9B,CAAC;IAED,sCAAgB,GAAhB,UAAiB,KAAK,EAAC,IAAI;QAEvB,IAAG,qBAAW,CAAC,QAAQ,CAAC,MAAM;YAAC,OAAO;QACtC,IAAG,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,YAAY,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EACtE;YACI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;YAChB,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;YAChD,IAAG,IAAI,CAAC,KAAK,IAAI,CAAC,EAClB;gBACI,qBAAW,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnC,IAAI,IAAI,GAAG,kBAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACvC,sBAAY,CAAC,cAAc,CAAC,mBAAS,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;aAC3D;SACJ;IAEL,CAAC;IAxBD;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACG;IAE5B;QADC,QAAQ;gDACY;IALJ,WAAW;QAD/B,OAAO;OACa,WAAW,CA6B/B;IAAD,kBAAC;CA7BD,AA6BC,CA7BwC,EAAE,CAAC,SAAS,GA6BpD;kBA7BoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport GameManager from \"../gameManager\";\r\nimport MsgCallUtils from \"../../framewrok/utils/MsgCallUtils\";\r\nimport UIConfig from \"../data/UIConfig\";\r\nimport GameEvent from \"../data/GameEvent\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FactoryNode extends cc.Component {\r\n\r\n    @property(cc.ProgressBar)\r\n    hpBar:cc.ProgressBar = null;\r\n    @property\r\n    totalHp:number = 100;\r\n\r\n    private curHp:number;\r\n    start () {\r\n        this.curHp = this.totalHp;\r\n    }\r\n\r\n    onCollisionEnter(other,self) \r\n    {\r\n        if(GameManager.instance.isOver)return;\r\n        if(other.node.name == \"roleBullet\" && self.node.name == \"rightFactory\")\r\n        {\r\n            this.curHp -= 5;\r\n            this.hpBar.progress = this.curHp / this.totalHp;\r\n            if(this.curHp <= 0)\r\n            {\r\n                GameManager.instance.isOver = true;\r\n                let info = UIConfig.getUIInfo(\"winUI\");\r\n                MsgCallUtils.notifyObserver(GameEvent.SHOW_UIVIEW,info);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n"]}
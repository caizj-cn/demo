{"version":3,"sources":["assets\\Script\\framewrok\\utils\\GameUtils.ts"],"names":[],"mappings":";;;;;;AAAA,2CAA2C;AAE3C;IAAA;IAoDA,CAAC;IAlDiB,qBAAW,GAAzB,UAA0B,KAAa,EAAE,GAAW;QAEhD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACzD,IAAI,KAAK,GAAG,CAAC;YACT,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC;YACxB,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QAChC,yEAAyE;QACzE,IAAI,QAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,CAAA,0BAA0B;QACjE,OAAO,QAAQ,CAAC;IACpB,CAAC;IAEa,0BAAgB,GAA9B,UAA+B,QAAe;QAE1C,IAAI,QAAQ,GAAG,GAAG,EAAE;YAChB,QAAQ,GAAG,QAAQ,GAAG,GAAG,CAAC;SAC7B;aACI,IAAI,QAAQ,GAAG,CAAC,GAAG,EAAE;YACtB,QAAQ,GAAG,QAAQ,GAAG,GAAG,CAAC;SAC7B;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;IAEa,uBAAa,GAA3B,UAA4B,QAAe,EAAE,KAAY,EAAE,GAAU;QAEjE,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAC;QACjC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;IAC9B,CAAC;IAEa,yBAAe,GAA7B,UAA8B,KAAK,EAAE,QAAQ;QAEzC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,OAAO,IAAI,EACX;YACI,IAAI,SAAS,GAAG,wBAAW,CAAC,WAAW,CAAC,QAAQ,EAAC,CAAC,EAAC,GAAG,CAAC,CAAA;YACvD,IAAI,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YAC5C,IAAI,KAAK,EAAE;gBACP,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtB;iBACI,IAAI,CAAC,GAAG,CAAC,EACd;gBACI,MAAM;aACT;YACD,CAAC,EAAE,CAAC;SACP;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAEL,gBAAC;AAAD,CApDA,AAoDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import { StringUtils } from \"./StringUtls\";\r\n\r\nexport default class GameUtils\r\n{\r\n    public static getRotation(start:cc.Vec2, end:cc.Vec2):number\r\n    {\r\n        let angle = Math.atan2(end.y - start.y, end.x - start.x);\r\n        if (angle < 0)\r\n            angle = angle + Math.PI * 2;\r\n        else if (angle > Math.PI * 2)\r\n            angle = angle - Math.PI * 2;\r\n        //var rotation = 360.0-angle * 180.0 / Math.PI;//原图的初始角度是向右用360- 向左则用180-\r\n        let rotation = angle * 180.0 / Math.PI;//原图的初始角度是向右用360- 向左则用180-\r\n        return rotation;\r\n    }\r\n\r\n    public static standardRotation(rotation:number) \r\n    {\r\n        if (rotation > 180) {\r\n            rotation = rotation - 360;\r\n        }\r\n        else if (rotation < -180) {\r\n            rotation = rotation + 360;\r\n        }\r\n        return rotation;\r\n    }\r\n\r\n    public static limitRotation(rotation:number, start:number, end:number) \r\n    {\r\n        var a = Math.abs(rotation - start);\r\n        var b = Math.abs(end - rotation);\r\n        return a < 180 && b < 180;\r\n    }\r\n\r\n    public static getSpriteFrames(atlas, textName) \r\n    {\r\n        var frames = [];\r\n        var i = 0;\r\n        while (true) \r\n        {\r\n            var frameName = StringUtils.splitFormat(textName,i,\"_\")\r\n            var frame = atlas.getSpriteFrame(frameName);\r\n            if (frame) {\r\n                frames.push(frame);\r\n            }\r\n            else if (i > 1) \r\n            {\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        return frames;\r\n    }\r\n   \r\n}\r\n"]}